" If you don't understand a setting in here, just type ':h setting'.

" Use Vim settings, rather than Vi settings (much better!).
" This must be first, because it changes other options as a side effect.
set nocompatible

" Set Clipboard
set clipboard=unnamedplus

" Set Leader key
let mapleader = ","

" Plugin manager
call plug#begin('~/.vim/plugged')

Plug 'tpope/vim-sensible'
Plug 'altercation/vim-colors-solarized'
Plug 'tmux-plugins/vim-tmux'
Plug 'christoomey/vim-tmux-navigator'
Plug 'bling/vim-airline'
Plug 'mhinz/vim-startify'

Plug 'tpope/vim-dispatch'
Plug 'tpope/vim-eunuch'
Plug 'tpope/vim-repeat'

Plug 'tpope/vim-vinegar'
Plug 'justinmk/vim-gtfo'
Plug 'kien/ctrlp.vim'
Plug 'rking/ag.vim'

Plug 'tpope/vim-fugitive'
Plug 'airblade/vim-gitgutter'

Plug 'MarcWeber/vim-addon-mw-utils'
Plug 'tomtom/tlib_vim'
Plug 'garbas/vim-snipmate'
Plug 'honza/vim-snippets'
Plug 'jiangmiao/auto-pairs'
Plug 'tpope/vim-commentary' 
Plug 'tpope/vim-surround'
Plug 'tpope/vim-unimpaired'

Plug 'janko-m/vim-test'
Plug 'scrooloose/syntastic'

Plug 'tpope/vim-rails'
Plug 'heartsentwined/vim-emblem'

call plug#end()


" Switch syntax highlighting on
let g:solarized_termcolors=16
set background=dark
colorscheme solarized

" Toggle relative numbering, and set to absolute on loss of focus or insert mode
set rnu
function! ToggleNumbersOn()
    set nu!
    set rnu
endfunction
function! ToggleRelativeOn()
    set rnu!
    set nu
endfunction
autocmd FocusLost * call ToggleRelativeOn()
autocmd FocusGained * call ToggleRelativeOn()
autocmd InsertEnter * call ToggleRelativeOn()
autocmd InsertLeave * call ToggleRelativeOn()

" Allow powerline symbols to show up
let g:airline_powerline_fonts = 1

" TAB settings
set tabstop=2
set shiftwidth=2
set softtabstop=2
set expandtab

" Open split window
set splitright
set splitbelow

" Refresh after any change in file
set autoread

" set linebreak
set linebreak

" explorer settings
let g:netrw_preview = 1
let g:netrw_alto = 0
let g:netrw_winsize = 25

" vim test mappings
nmap <silent> <leader>t :TestNearest<CR>
nmap <silent> <leader>T :TestFile<CR>
nmap <silent> <leader>a :TestSuite<CR>
nmap <silent> <leader>l :TestLast<CR>
nmap <silent> <leader>g :TestVisit<CR>

" set igonres
set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*/.idea/*,*/tmp/*
let g:ctrlp_custom_ignore = {
  \ 'dir':  'node_modules$\|bower_components$\|dist$',
  \ }
